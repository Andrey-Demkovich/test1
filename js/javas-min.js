var button=document.querySelector(".searh-button"),popup=document.querySelector(".search-form"),dateArrival=popup.querySelector('input[name="arrival"]'),dateDeparture=popup.querySelector('input[name="departure"]'),numberAdult=popup.querySelector('input[name="adult"]'),numberChildren=popup.querySelector('input[name="children"]'),findButton=popup.querySelector(".find-button"),isStorageSupport=!0,storageArrival="",storageDeparture="",storageAdult="",storageChildren="";try{storageArrival=localStorage.getItem("arrival"),storageDeparture=localStorage.getItem("departure"),storageAdult=localStorage.getItem("adult"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),console.log("Клик по кнопке"),popup.classList.toggle("modal-close"),storageArrival&&storageDeparture&&storageAdult&&storageChildren?(dateArrival.value=storageArrival,dateDeparture.value=storageDeparture,numberAdult.value=storageAdult,numberChildren.value=storageChildren,findButton.focus()):dateArrival.focus()}),popup.addEventListener("submit",function(e){dateArrival.value&&dateDeparture.value?0!=numberAdult.value&&numberAdult.value?isStorageSupport&&(localStorage.setItem("arrival",dateArrival.value),localStorage.setItem("departure",dateDeparture.value),localStorage.setItem("adult",numberAdult.value),localStorage.setItem("children",numberChildren.value)):(e.preventDefault(),console.log("Введите хотябы одного взрослого")):(e.preventDefault(),console.log("Введите даты заезда и выезда"))});
